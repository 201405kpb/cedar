---
layout: page.hbs
---

<div class="row">
  <h1>Events Helper Page for cooking samples</h1>
  <p>This will not be part of the site in prod</p>
  
  <div class="col-lg-8" >
    <h3>School size by Students</h3>
    <div id="chart"></div>
  </div>
  <div class="col-lg-4" >
    <h3>School Details <small>Click on chart</small></h3>
    <div id="details"></div>
  </div>
</div>

<script type="tmpl" id="school-detail-template">

  <ul>
    <li>Name: <%=NAME%></li>
    <li>Type: <%=FACUSE%></li>
    <li>Address: <%=ADDRESS%></li>
    <li>Phone: <%=PHONE%></li>
    <li>Web: <%=WEB_URL%></li>
  </ul>

</script>

<script>

  function showItem(item){
    var tmpl = document.getElementById("school-detail-template").innerHTML;
    compiled = _.template(tmpl);

    document.getElementById('details').innerHTML = compiled(item.datum.data.attributes);
  }

  var cb = function(err, chart){
    chart.on('mouseover', function(evt, item){
      console.log('mouseover ' + evt.currentTarget);
      
    });
    chart.on('mouseout', function(evt, item){
      console.log('mouseout');
      
    });
    chart.on('click', function(evt, item){
      console.log('click');
      showItem(item);
    });
  };

  Cedar.render({
    elementId: "#chart",
    spec: "{{assets}}data/charts/evt-scatter-chart.json"
  }, cb);

</script>